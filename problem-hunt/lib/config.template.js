// Supabase Configuration - DO NOT EDIT THIS FILE DIRECTLY
// This file is generated by the build script
// To change configuration, edit your .env file and run npm run build

let SUPABASE_URL = 'YOUR_SUPABASE_URL'; // Will be replaced at build time
let SUPABASE_ANON_KEY = 'YOUR_SUPABASE_ANON_KEY'; // Will be replaced at build time

// Try to load from window.env (for Azure Static Web Apps)
if (window.env) {
  SUPABASE_URL = window.env.SUPABASE_URL || SUPABASE_URL;
  SUPABASE_ANON_KEY = window.env.SUPABASE_ANON_KEY || SUPABASE_ANON_KEY;
  console.log('âœ… Loaded config from window.env');
} else {
  console.log('âš ï¸ window.env not available, using fallback values');
}

// For local development, you can set these in the browser console:
// window.env = { SUPABASE_URL: 'your-url', SUPABASE_ANON_KEY: 'your-key' }

if (SUPABASE_URL === 'YOUR_SUPABASE_URL' || SUPABASE_ANON_KEY === 'YOUR_SUPABASE_ANON_KEY') {
  console.warn('âš ï¸ Supabase not configured. App will work with limited functionality.');
}

// Initialize Supabase client with error handling
let supabase;
try {
  supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
  console.log('âœ… Supabase initialized successfully');
  console.log('ðŸ”— Supabase URL:', SUPABASE_URL);
} catch (error) {
  console.error('âŒ Failed to initialize Supabase:', error);
  // Create a mock client to prevent app crashes
  supabase = {
    auth: {
      getSession: () => Promise.resolve({ data: { session: null } }),
      signInWithPassword: () => Promise.reject(new Error('Supabase not configured')),
      signUp: () => Promise.reject(new Error('Supabase not configured')),
      signOut: () => Promise.resolve()
    }
  };
}